package test;

import java.sql.Connection;
import java.sql.Date;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import factory.ConnectionFactory;
import model.Guest;

public class PruebaInsercion {

	public static void main(String[] args) throws SQLException {

		ConnectionFactory factory = new ConnectionFactory();
		Connection con = factory.createConnection();
		
		//1 statement
		//1.1 prepare statement
		//2 execute()
		//3 get and parse answer resultset
		
//		String statement = "INSERT INTO RESERVAS (fechaEntrada, fechaSalida, valor, formaPago) VALUES (?, ?, ?, ?)";
//		PreparedStatement stm = con.prepareStatement(statement, Statement.RETURN_GENERATED_KEYS);
//		
//		//conversion Date
//		//set de los datos
//		
//		Date fechaEntrada = Date.valueOf("2023-08-19");
//		Date fechaSalida = Date.valueOf("2023-08-20");
//		String valor = "1000";
//		String formaPago = "Efectivo";
//		
//		stm.setDate(1, fechaEntrada);
//		stm.setDate(2, fechaSalida);
//		stm.setString(3, valor);
//		stm.setString(4, formaPago);
		
//		stm.execute();
//		
//		ResultSet rst = stm.getGeneratedKeys();
//		
//		while(rst.next()) {
//			Integer id = rst.getInt(1);
//			System.out.println("El id creado fue: " + id);
//		}
		
		Guest federico = new Guest(con, "Federico", "Balcarce", "1654-05-16", "uruguayo", "31648354");
		federico.insertGuest();
//		System.out.println(juan.getId());
		
		con.close();

	}

}
