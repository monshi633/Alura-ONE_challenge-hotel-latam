package model;

import java.sql.Connection;
import java.sql.Date;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class Guests {

	Connection con;
	Integer id;
	String nombre;
	String apellido;
	Date fechaNacimiento;
	String nacionalidad;
	String telefono;

	public Guests(Connection con) {
		this.con = con;
	}
	
	public void createGuest(String nombre, String apellido, String fechaNacimiento, String nacionalidad, String telefono) throws SQLException {
		String statement = "INSERT INTO HUESPEDES (nombre, apellido, fechaNacimiento, nacionalidad, telefono) VALUES (?, ?, ?, ?, ?)";
		PreparedStatement stm = con.prepareStatement(statement, Statement.RETURN_GENERATED_KEYS);
		
		stm.setString(1, nombre);
		stm.setString(2, apellido);
		stm.setDate(3, Date.valueOf(fechaNacimiento));
		stm.setString(4, nacionalidad);
		stm.setString(5, telefono);
		
		stm.execute();
		
		ResultSet rst = stm.getGeneratedKeys();
		while(rst.next()) {
			id = rst.getInt(1);
			System.out.println("New guest inserted with id = " + id);
		}
	}

	public void readGuest(Integer id) {
		System.out.println("Reading guest with id " + id);
	}

	public void updateGuest(Integer id) {
		
	}

	public void deleteGuest() {

	}
	
}