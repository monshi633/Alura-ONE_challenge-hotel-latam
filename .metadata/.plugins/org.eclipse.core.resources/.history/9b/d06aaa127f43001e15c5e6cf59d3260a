package test;

import java.sql.Connection;
import java.sql.SQLException;
import factory.ConnectionFactory;
import model.Guest;
import model.Reserve;

public class PruebaInsercion {

	public static void main(String[] args) throws SQLException {

		ConnectionFactory factory = new ConnectionFactory();
		Connection con = factory.createConnection();
		
		//1 statement
		//1.1 prepare statement
		//2 execute()
		//3 get and parse answer resultset
		
//		String statement = "INSERT INTO RESERVAS (fechaEntrada, fechaSalida, valor, formaPago) VALUES (?, ?, ?, ?)";
//		PreparedStatement stm = con.prepareStatement(statement, Statement.RETURN_GENERATED_KEYS);
//		
//		//conversion Date
//		//set de los datos
//		
//		Date fechaEntrada = Date.valueOf("2023-08-19");
//		Date fechaSalida = Date.valueOf("2023-08-20");
//		String valor = "1000";
//		String formaPago = "Efectivo";
//		
//		stm.setDate(1, fechaEntrada);
//		stm.setDate(2, fechaSalida);
//		stm.setString(3, valor);
//		stm.setString(4, formaPago);
		
//		stm.execute();
//		
//		ResultSet rst = stm.getGeneratedKeys();
//		
//		while(rst.next()) {
//			Integer id = rst.getInt(1);
//			System.out.println("El id creado fue: " + id);
//		}
		
//		Guest federico = new Guest(con, "Federico", "Balcarce", "1654-05-16", "uruguayo", "31648354");
//		federico.insertGuest();

//		federico.updateGuest("Federico", "Perez", "1654-05-16", "peruano", "123");
//
//		federico.removeGuest();
		
		Guest juan = new Guest(con, "Juan", "Lopez", "1990-03-21", "argentino", "98765");
//		Reserve reserve1 = new Reserve(con, juan.getId(), "2023-03-03", "2023-03-06", "50", "efectivo");
//		juan.insertGuest();
		System.out.println(juan.getId());
		juan.deleteGuest();
		
		
		con.close();

	}

}
